# 🚀 部署方案 - 让别人也能访问

## 📊 当前情况

- ✅ 本地开发：http://localhost:3001（只有你能访问）
- ❌ 其他人无法访问

---

## 🎯 推荐方案

### 方案1：Vercel 部署（最简单，推荐）⭐

**优势**：
- ✅ 免费
- ✅ Next.js 官方平台，一键部署
- ✅ 自动 HTTPS
- ✅ 自动部署（Git push 后自动更新）
- ✅ 全球 CDN，访问速度快

**步骤**：

1. **准备代码**：
   ```bash
   # 确保代码已提交到 GitHub
   git add .
   git commit -m "准备部署"
   git push
   ```

2. **注册 Vercel**：
   - 访问：https://vercel.com
   - 使用 GitHub 账号登录

3. **导入项目**：
   - 点击 "Add New Project"
   - 选择你的 GitHub 仓库
   - Vercel 会自动检测 Next.js 项目

4. **配置环境变量**：
   - 在 Vercel 项目设置中添加：
     - `ZHIPU_API_KEY` = 你的智谱清言 API Key
     - 其他环境变量（如果有）

5. **部署**：
   - 点击 "Deploy"
   - 等待几分钟，完成部署
   - 获得一个公开 URL，如：`https://your-project.vercel.app`

**完成后**：
- ✅ 任何人都可以通过 URL 访问
- ✅ 自动 HTTPS
- ✅ 全球 CDN 加速

---

### 方案2：内网穿透（临时测试）

**适用场景**：临时让别人测试，不想部署

**工具**：
- **ngrok**（推荐）
- **frp**
- **localtunnel**

**使用 ngrok**：

1. **安装 ngrok**：
   ```bash
   # macOS
   brew install ngrok
   ```

2. **启动本地服务器**：
   ```bash
   cd /Users/jojodd/my-tool-platform
   npm run dev
   ```

3. **启动 ngrok**：
   ```bash
   ngrok http 3001
   ```

4. **获得公开 URL**：
   - ngrok 会给你一个 URL，如：`https://xxxx.ngrok.io`
   - 把这个 URL 分享给别人即可

**注意**：
- ⚠️ 免费版 URL 每次启动都会变化
- ⚠️ 有流量限制
- ⚠️ 适合临时测试

---

### 方案3：自建服务器（生产环境）

**适用场景**：需要完全控制，或公司内部使用

**步骤**：

1. **购买服务器**：
   - 阿里云、腾讯云、AWS 等
   - 配置：至少 2GB 内存

2. **配置服务器**：
   ```bash
   # 安装 Node.js
   # 安装 PM2（进程管理）
   npm install -g pm2
   ```

3. **部署应用**：
   ```bash
   # 克隆代码
   git clone your-repo
   cd my-tool-platform
   
   # 安装依赖
   npm install
   
   # 构建
   npm run build
   
   # 启动（使用 PM2）
   pm2 start npm --name "pronunciation-platform" -- start
   ```

4. **配置域名和 HTTPS**：
   - 购买域名
   - 配置 Nginx
   - 配置 SSL 证书（Let's Encrypt 免费）

---

## 💡 关于后端

**不需要单独接入后端！**

Next.js 已经是全栈框架：
- ✅ 前端：React 组件
- ✅ 后端：API Routes（`app/api/` 目录）
- ✅ 数据库：可以集成（如果需要）

当前架构：
- 前端页面：`app/correction/page.tsx`
- 后端 API：`app/api/correct/route.ts`
- 大模型调用：`lib/zhipu.ts`

**部署后，前后端都会一起部署！**

---

## 🎯 推荐流程

### 快速部署（推荐）

1. **使用 Vercel**（5分钟）：
   - 注册 Vercel
   - 连接 GitHub
   - 一键部署
   - 配置环境变量
   - 完成！

2. **临时测试**：
   - 使用 ngrok
   - 快速分享 URL

---

## 📝 部署前检查清单

- [ ] 代码已提交到 GitHub
- [ ] 环境变量已整理（API Key 等）
- [ ] 测试本地运行正常
- [ ] 检查 `.env.local` 中的敏感信息（不要提交到 Git）

---

## 🔒 安全提示

1. **环境变量**：
   - 不要将 API Key 提交到 Git
   - 在部署平台配置环境变量

2. **API 限制**：
   - 考虑添加访问限制（如登录验证）
   - 或添加 API 调用频率限制

---

## 🚀 快速开始（Vercel）

1. 确保代码在 GitHub
2. 访问 https://vercel.com
3. 导入项目
4. 配置环境变量
5. 部署完成！

**完成后，你会得到一个公开 URL，任何人都可以访问！** 🎉

