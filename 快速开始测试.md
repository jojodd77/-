# 🚀 快速开始模型测试

## 第一步：配置 API Keys

在项目根目录的 `.env.local` 文件中添加各个大模型的 API Key：

```bash
# 智谱AI（已有）
ZHIPU_API_KEY=your_zhipu_api_key

# 百度千帆（已有）
BAIDU_API_KEY=your_baidu_api_key
BAIDU_SECRET_KEY=your_baidu_secret_key

# 豆包（字节跳动）- 新增
DOUBAO_API_KEY=your_doubao_api_key

# DeepSeek - 新增
DEEPSEEK_API_KEY=your_deepseek_api_key

# 文心一言 - 新增
WENXIN_API_KEY=your_wenxin_api_key
WENXIN_SECRET_KEY=your_wenxin_secret_key
```

## 第二步：启动开发服务器

```bash
npm run dev
```

## 第三步：访问测试页面

打开浏览器访问：**http://localhost:3001/test-models**

或者直接访问 API：**http://localhost:3001/api/test-models**

## 第四步：运行测试

1. 在测试页面点击 **"开始测试"** 按钮
2. 等待测试完成（可能需要几分钟，取决于测试用例数量和API响应速度）
3. 查看测试结果：
   - **模型性能汇总**：各模型的准确率、平均耗时、通过/总数
   - **详细测试结果**：每个测试用例的输入、期望、实际结果

## 📊 测试结果解读

### 准确率
- **90%以上**：优秀 ✅
- **70-90%**：良好 ⚠️
- **70%以下**：需要改进 ❌

### 平均耗时
- 响应时间越短越好
- 通常应该在 1-3 秒内

### 通过/总数
- 显示正确标注的测试用例数量
- 可以帮助识别哪些类型的用例容易出错

## 🎯 选择最佳模型

根据测试结果，选择：
1. **准确率最高**的模型
2. **响应时间最短**的模型（如果准确率相近）
3. **成本最低**的模型（考虑API调用费用）

## 📝 测试数据集

当前测试数据集包含 23 个测试用例，涵盖：
- 多音字（中、重、解、差、切、奇等）
- 儿化音（花儿、小猫儿）
- 英文单词（apple、the、record）
- 特殊符号和缩写

你可以根据需要修改 `test-data.json` 文件添加更多测试用例。

## 🔧 自定义测试

### 添加测试用例

编辑 `test-data.json`：

```json
{
  "id": 24,
  "input": "你的测试文本",
  "expected": "期望的标注结果"
}
```

### 只测试特定模型

修改 `app/api/test-models/route.ts`，注释掉不需要测试的模型。

## ⚠️ 注意事项

1. **API 限流**：测试脚本在每次API调用后会有 500ms 延迟，避免触发限流
2. **API 费用**：批量测试会消耗API调用额度，请注意成本
3. **测试时间**：完整测试可能需要 5-10 分钟，请耐心等待
4. **网络连接**：确保网络连接稳定，避免测试中断

## 🆘 常见问题

### Q: 测试失败，显示 API Key 未配置
A: 检查 `.env.local` 文件中的 API Key 是否正确配置，确保没有多余的空格。

### Q: 某些模型测试失败
A: 检查该模型的 API Key 是否有效，是否有足够的额度。

### Q: 测试结果不一致
A: 大模型的输出可能有随机性，建议多次测试取平均值。

### Q: 如何只测试部分用例
A: 修改 `test-data.json`，只保留需要测试的用例。

## 📚 下一步

测试完成后，你可以：
1. 根据结果选择最佳模型
2. 在 `app/api/correct/route.ts` 中更新默认使用的模型
3. 保存测试报告用于后续对比


