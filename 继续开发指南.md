# 🚀 继续开发指南

## 📍 项目位置

项目路径：`/Users/jojodd/my-tool-platform`

## ✅ 当前状态检查

### 1. 检查开发服务器是否运行

```bash
# 检查端口 3001 是否被占用
lsof -i :3001

# 或者检查进程
ps aux | grep "next dev"
```

如果看到进程在运行，说明开发服务器已经启动。

### 2. 访问开发地址

- **前端页面**: http://localhost:3001
- **发音修正页面**: http://localhost:3001/correction
- **历史记录页面**: http://localhost:3001/history
- **规则查看页面**: http://localhost:3001/rules

## 🔧 开始开发

### 方法 1：如果服务器已经在运行

如果开发服务器已经在运行（端口 3001），你可以直接开始修改代码：

1. **打开项目目录**
   ```bash
   cd /Users/jojodd/my-tool-platform
   ```

2. **使用编辑器打开项目**
   - 在 Cursor 中打开 `/Users/jojodd/my-tool-platform` 目录
   - 或者使用 VS Code、其他编辑器

3. **修改代码**
   - Next.js 支持热重载，修改代码后会自动刷新
   - 保存文件后，浏览器会自动更新

### 方法 2：重新启动开发服务器

如果需要重新启动开发服务器：

1. **停止当前服务器**
   ```bash
   # 找到进程 ID
   lsof -i :3001
   # 或者
   ps aux | grep "next dev"
   
   # 停止进程（替换 PID 为实际进程号）
   kill <PID>
   ```

2. **启动开发服务器**
   ```bash
   cd /Users/jojodd/my-tool-platform
   npm run dev
   ```

   成功启动后你会看到：
   ```
   ▲ Next.js 14.2.5
   - Local:        http://localhost:3001
   - Ready in X.Xs
   ```

## 📁 主要开发目录

### 页面开发
- `app/correction/page.tsx` - 发音修正页面
- `app/history/page.tsx` - 历史记录页面
- `app/rules/page.tsx` - 规则查看页面
- `app/page.tsx` - 首页（会重定向到 /correction）

### API 开发
- `app/api/correct/route.ts` - 发音修正 API
- `app/api/hello/route.ts` - 测试 API

### 组件开发
- `components/Sidebar.tsx` - 侧边栏导航
- `components/Navigation.tsx` - 导航组件

### 工具函数
- `lib/prompt.ts` - Prompt 构建
- `lib/zhipu.ts` - 智谱清言 API 调用
- `lib/baidu.ts` - 百度千帆 API 调用
- `lib/ruleEngine.ts` - 规则引擎
- `lib/rules.ts` - 规则定义

### 类型定义
- `types/index.ts` - TypeScript 类型定义

## 🛠️ 常见开发任务

### 添加新页面

1. 在 `app/` 目录下创建新文件夹，例如 `app/about/`
2. 创建 `page.tsx` 文件：
   ```tsx
   export default function AboutPage() {
     return <div>关于页面</div>;
   }
   ```
3. 访问 http://localhost:3001/about

### 添加新 API 路由

1. 在 `app/api/` 目录下创建新文件夹，例如 `app/api/users/`
2. 创建 `route.ts` 文件：
   ```tsx
   import { NextResponse } from 'next/server';
   
   export async function GET() {
     return NextResponse.json({ message: 'Hello' });
   }
   ```
3. 访问 http://localhost:3001/api/users

### 修改样式

项目使用 Tailwind CSS，直接在组件中使用 className：

```tsx
<div className="bg-blue-500 text-white p-4 rounded-lg">
  内容
</div>
```

### 添加新组件

1. 在 `components/` 目录下创建组件文件
2. 使用 TypeScript 和函数式组件：
   ```tsx
   interface Props {
     title: string;
   }
   
   export default function MyComponent({ title }: Props) {
     return <h1>{title}</h1>;
   }
   ```

## 🔍 调试技巧

### 1. 查看浏览器控制台
- 按 `F12` 打开开发者工具
- 查看 Console 标签页的错误信息
- 查看 Network 标签页的请求状态

### 2. 查看服务器日志
开发服务器会在终端显示请求日志和错误信息。

### 3. 检查编译错误
```bash
npm run build
```

### 4. 运行 Lint 检查
```bash
npm run lint
```

## 🐛 常见问题解决

### 问题 1：页面显示空白或 500 错误

**解决方案**：
1. 检查终端是否有编译错误
2. 尝试重启开发服务器：
   ```bash
   # 停止服务器
   kill $(lsof -t -i:3001)
   
   # 重新启动
   cd /Users/jojodd/my-tool-platform
   npm run dev
   ```

### 问题 2：修改代码后页面没有更新

**解决方案**：
1. 检查文件是否保存
2. 尝试硬刷新浏览器（Ctrl+Shift+R 或 Cmd+Shift+R）
3. 检查终端是否有错误信息

### 问题 3：端口被占用

**解决方案**：
```bash
# 查找占用端口的进程
lsof -i :3001

# 停止进程
kill <PID>

# 或者使用其他端口
npm run dev -- -p 3002
```

### 问题 4：依赖问题

**解决方案**：
```bash
# 删除 node_modules 和 lock 文件
rm -rf node_modules package-lock.json

# 重新安装
npm install
```

## 📝 开发流程建议

1. **创建功能分支**（如果需要）
   ```bash
   git checkout -b feature/新功能名称
   ```

2. **开发功能**
   - 修改代码
   - 在浏览器中测试
   - 检查控制台错误

3. **测试功能**
   - 测试正常流程
   - 测试边界情况
   - 检查错误处理

4. **提交代码**
   ```bash
   git add .
   git commit -m "feat: 添加新功能"
   git push origin feature/新功能名称
   ```

## 🎯 下一步

1. ✅ 确认开发服务器正在运行
2. ✅ 在浏览器中打开 http://localhost:3001/correction
3. ✅ 开始修改代码，查看实时效果
4. ✅ 根据需要添加新功能或修复问题

## 💡 提示

- Next.js 支持热重载，修改代码后会自动刷新
- 使用 TypeScript 可以获得更好的代码提示和类型检查
- 查看 `开发指南.md` 了解更多开发规范
- 查看 `README.md` 了解项目整体结构



