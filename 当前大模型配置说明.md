# 🤖 当前大模型配置说明

## 📊 当前状态

### ⚠️ 重要提示

**发音判断修正功能目前使用的是模拟逻辑，没有调用真实的大模型！**

---

## 🔍 当前实现

### 使用的逻辑

1. **格式检查**：检查文本是否包含发音标注格式
2. **简单规则匹配**：使用硬编码的多音字字典
3. **模拟修正**：基于简单规则进行修正

### 局限性

- ❌ **不准确**：无法准确判断多音字的正确读音
- ❌ **不智能**：无法理解上下文
- ❌ **功能有限**：只能处理少数常见多音字

---

## 🎯 需要配置真实大模型

### 支持的大模型

1. **OpenAI** (GPT-4, GPT-3.5)
   - 准确度高
   - 支持上下文理解
   - 需要 API Key

2. **Claude** (Anthropic)
   - 性能优秀
   - 支持长文本
   - 需要 API Key

3. **文心一言** (百度)
   - 中文优化
   - 国内访问快
   - 需要 API Key

4. **通义千问** (阿里云)
   - 中文优化
   - 国内访问快
   - 需要 API Key

---

## 🔧 如何配置

### 步骤1：选择大模型

选择你想要使用的大模型（推荐 OpenAI GPT-4 或 Claude）。

### 步骤2：获取 API Key

- **OpenAI**: https://platform.openai.com/api-keys
- **Claude**: https://console.anthropic.com/
- **文心一言**: https://cloud.baidu.com/
- **通义千问**: https://dashscope.aliyun.com/

### 步骤3：配置环境变量

创建 `.env.local` 文件：

```bash
# OpenAI 配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4  # 或 gpt-3.5-turbo

# 或使用 Claude
CLAUDE_API_KEY=your_claude_api_key_here

# 或使用文心一言
WENXIN_API_KEY=your_wenxin_api_key_here
```

### 步骤4：修改代码

编辑 `app/api/correct/route.ts`，取消注释真实 API 调用部分。

---

## 📝 Prompt 设计

当前 Prompt 包含：

1. **角色定义**：TTS发音修正专家
2. **核心原则**：4条核心原则
3. **规则说明**：中文和英文发音修正规则
4. **示例**：正例和反例
5. **输出格式**：JSON 格式要求

---

## ⚠️ 注意事项

1. **API 成本**：大模型 API 调用会产生费用
2. **速率限制**：注意 API 的调用频率限制
3. **错误处理**：需要完善的错误处理逻辑
4. **安全性**：API Key 不要提交到 Git

---

## 🚀 快速开始

1. 获取 API Key
2. 配置 `.env.local`
3. 修改 `app/api/correct/route.ts`
4. 重启开发服务器

详细步骤请查看：`配置大模型API.md`

---

**当前状态：使用模拟逻辑，需要配置真实大模型 API 才能获得准确的发音修正功能。**

